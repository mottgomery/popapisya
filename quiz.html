<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–æ–∫–∞–∫</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      background: radial-gradient(circle at center, #ffe1f0, #ffc8e4);
      font-family: 'Poppins', sans-serif;
      color: #2a2a2a;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 20px;
      overflow: hidden;
      opacity: 0;
      animation: fadeInBody 1s ease forwards;
    }

    @keyframes fadeInBody {
      to { opacity: 1; }
    }

    h1 {
      font-family: 'Playfair Display', serif;
      font-size: 32px;
      margin-bottom: 30px;
      color: #ff4e96;
    }

    input {
      padding: 15px 25px;
      font-size: 18px;
      border-radius: 30px;
      border: 2px solid #ff9ac2;
      width: 80%;
      max-width: 400px;
      outline: none;
      margin-bottom: 20px;
      text-align: center;
    }

    button {
      padding: 15px 35px;
      font-size: 18px;
      background: linear-gradient(135deg, #ff6fa7, #ff3e9d);
      color: #fff;
      border: none;
      border-radius: 40px;
      cursor: pointer;
      transition: transform .3s ease;
      font-weight: 600;
    }

    button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 20px rgba(255,105,180,.4);
    }

    .fade-in { opacity: 0; transform: translateY(30px) scale(.95); animation: fadeInUp .8s ease forwards; }
    .fade-in.delay-1 { animation-delay: .4s; }
    .fade-in.delay-2 { animation-delay: .8s; }
    .fade-in.delay-3 { animation-delay: 1.2s; }

    @keyframes fadeInUp {
      to { opacity: 1; transform: translateY(0) scale(1); }
    }

    #dialogue-container {
      position: fixed;
      bottom: 20px;
      left: 20px;
      width: calc(100% - 40px);
      pointer-events: none;
      min-height: 120px;
      z-index: 5;
    }

    .character {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background-image: url('pipa.PNG');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      border: 2px solid #ff4e96;
      box-shadow: 0 0 8px rgba(255,105,180,.4);
      position: absolute;
      bottom: 0;
      left: 0;
      transform: translateY(-150%);
      opacity: 0;
    }

    .character.show {
      animation: dropIn .8s cubic-bezier(.22,1.61,.36,1) forwards;
    }

    @keyframes dropIn {
      0% { transform: translateY(-150%); opacity: 0; }
      70% { transform: translateY(15%); opacity: 1; }
      100% { transform: translateY(0); opacity: 1; }
    }

    .speech-bubble {
      position: absolute;
      bottom: 80px;
      left: 80px;
      max-width: 75vw;
      background: #fff;
      border-radius: 20px;
      padding: 15px 20px;
      box-shadow: 0 8px 20px rgba(0,0,0,.1);
      font-size: 18px;
      color: #b3005f;
      font-weight: 500;
      opacity: 0;
      transform: scale(.8) translateY(10px);
      transition: opacity .3s ease, transform .3s ease;
      white-space: pre-wrap;
      pointer-events: none;
    }

    .speech-bubble.show {
      opacity: 1;
      transform: scale(1) translateY(0);
    }

    .letter-image {
    display: none;
    position: fixed;
    top: 20%; /* –ò–∑–º–µ–Ω–∏–ª–∏ —Å 50% –Ω–∞ 30% —á—Ç–æ–±—ã –ø–æ–¥–Ω—è—Ç—å –≤—ã—à–µ */
    left: 50%;
    width: 200px;
    height: 200px;
    transform: translate(-50%, -50%);
    cursor: pointer;
    z-index: 100;
  }

    .animated-mail {
      position: absolute;
      height: 150px;
      width: 200px;
      transition: .4s;
    }

    .body {
      position: absolute;
      bottom: 0;
      width: 0;
      height: 0;
      border-style: solid;
      border-width: 0 0 100px 200px;
      border-color: transparent transparent #e95f55 transparent;
      z-index: 2;
    }

    .top-fold {
      position: absolute;
      top: 50px;
      width: 0;
      height: 0;
      border-style: solid;
      border-width: 50px 100px 0 100px;
      transform-origin: 50% 0%;
      transition: transform .4s .4s, z-index .2s .4s;
      border-color: #cf4a43 transparent transparent transparent;
      z-index: 2;
    }

    .back-fold {
      position: absolute;
      bottom: 0;
      width: 200px;
      height: 100px;
      background: #cf4a43;
      z-index: 0;
    }

    .left-fold {
      position: absolute;
      bottom: 0;
      width: 0;
      height: 0;
      border-style: solid;
      border-width: 50px 0 50px 100px;
      border-color: transparent transparent transparent #e15349;
      z-index: 2;
    }

    .letter {
      left: 20px;
      bottom: 0;
      position: absolute;
      width: 160px;
      height: 60px;
      background: #ffe9f3; /* –¢–æ—Ç –∂–µ —Ü–≤–µ—Ç, —á—Ç–æ fullscreen-paper */
      z-index: 1;
      overflow: hidden;
      transition: .4s .2s;
    }

    .letter-border {
      height: 10px;
      width: 100%;
      background: repeating-linear-gradient(-45deg, #cb5a5e, #cb5a5e 8px, transparent 8px, transparent 18px);
    }

    .letter-title {
      margin-top: 10px;
      margin-left: 5px;
      height: 10px;
      width: 40%;
      background: #cb5a5e;
    }

    .letter-context {
      margin-top: 10px;
      margin-left: 5px;
      height: 10px;
      width: 20%;
      background: #cb5a5e;
    }

    .letter-stamp {
      margin-top: 30px;
      margin-left: 120px;
      border-radius: 100%;
      height: 30px;
      width: 30px;
      background: #cb5a5e;
      opacity: 0.3;
    }

    .shadow {
      position: absolute;
      top: 200px;
      left: 50%;
      width: 400px;
      height: 30px;
      transition: .4s;
      transform: translateX(-50%);
      border-radius: 100%;
      background: radial-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.0), rgba(0,0,0,0.0));
    }

    .opened .top-fold {
      transform: rotateX(180deg);
      z-index: 0;
      transition: transform .4s, z-index .2s;
    }

    .opened .letter {
      height: 180px;
    }

    .envelope-expand {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background-color: #ffe9f3;
      z-index: 999;
      animation: expandLetter 1s ease forwards;
    }

    @keyframes expandLetter {
      from { transform: scale(0); opacity: 1; }
      to { transform: scale(1); opacity: 1; }
    }
    .letter-context {
  margin-top: 10px;
  margin-left: 5px;
  height: 10px;
  width: 20%;
  background: #ffe9f3; /* –¶–≤–µ—Ç –±—É–º–∞–≥–∏ */
  cursor: pointer;
  z-index: 10;
}
@keyframes fadeInScale {
  from {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.5);
  }
  to {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

.letter-image.show-letter {
  display: block;
  animation: fadeInScale 0.8s ease forwards;
}

.fullscreen-paper {
  position: fixed;
  background-color: #ffe9f3;
  width: 100vw;
  height: 100vh;
  z-index: 1000;
  animation: expandPaper 1s ease forwards;
  transform-origin: 50% 15%; /* —Å—Ç–∞—Ä—Ç –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏–º–µ—Ä–Ω–æ –æ—Ç –º–µ—Å—Ç–∞ –ø–∏—Å—å–º–∞ */
}



@keyframes expandPaper {
  from {
    transform: scale(0.2);
    opacity: 0.8;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

  </style>
</head>
<body>
  <h1 class="fade-in delay-1">–ö–æ–≥–æ —è –ª—é–±–ª—é –±–æ–ª—å—à–µ –≤—Å–µ—Ö? (ÔΩûÔø£‚ñΩÔø£)ÔΩû</h1>
  <input type="text" id="answer" class="fade-in delay-2" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏–ª–∏ —Å–ª–æ–≤–æ..." />
  <br />
  <button onclick="checkAnswer()" class="fade-in delay-3">—á–µ–∫–Ω—É—Ç—å –æ—Ç–≤–µ—Ç</button>

  <div id="dialogue-container">
    <div id="char" class="character"></div>
    <div id="speech" class="speech-bubble"></div>
  </div>

  <div class="letter-image" id="letter">
    <div class="animated-mail" onclick="openEnvelope()">
      <div class="back-fold"></div>
      <div class="letter" onclick="expandLetter(event)">
  <div class="letter-border"></div>
  <div class="letter-title"></div>
  <div class="letter-context"></div>
  <div class="letter-stamp"><div class="letter-stamp-inner"></div></div>
</div>

      <div class="top-fold"></div>
      <div class="body"></div>
      <div class="left-fold"></div>
    </div>
    <div class="shadow"></div>
  </div>

  <audio id="bgMusic" src="undertale_002. Start Menu.mp3" autoplay loop preload="auto"></audio>
  <audio id="typeSound" src="voice_sans.mp3" preload="auto"></audio>
  <script>
    
    
    document.addEventListener("DOMContentLoaded", () => {
      const music = document.getElementById("bgMusic");
      music.volume = 0.2;
      function enableAudioOnce() {
        music.play().catch(e => console.warn("–ê–≤—Ç–æ–∑–≤—É–∫ –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è:", e));
        document.removeEventListener("click", enableAudioOnce);
      }
      document.addEventListener("click", enableAudioOnce);
    });

    const speech = document.getElementById('speech');
    const character = document.getElementById('char');
    let characterShown = false;

    function showCharacter() {
      if (!characterShown) {
        character.classList.add('show');
        characterShown = true;
      }
    }

    function typeText(text) {
      speech.classList.remove('show');
      speech.textContent = '';
      void speech.offsetWidth;
      speech.classList.add('show');
      showCharacter();
      let i = 0;
      const timer = setInterval(() => {
        speech.textContent += text[i];
        try {
          const s = document.getElementById("typeSound").cloneNode();
          s.volume = 0.2;
          s.play();
        } catch {}
        i++;
        if (i === text.length) clearInterval(timer);
      }, 40);
    }
                          const letter = document.getElementById('letter');

                          function openEnvelope() {
                            document.querySelector('.animated-mail').classList.add('opened');
                          }

                          function expandLetter(e) {
                            e.stopPropagation();
                            const exp = document.createElement('div');
                            exp.className = 'fullscreen-paper';  // –∏—Å–ø–æ–ª—å–∑—É–µ–º —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π —Å—Ç–∏–ª—å
                            document.body.appendChild(exp);
                            setTimeout(() => {
                              window.location.href = 'main.html';
                            }, 1000);
                          }


    function checkAnswer(){
      const userAnswer = document.getElementById('answer').value.trim().toLowerCase();

      const correctAnswers = [
        '–º–µ–Ω—è','–º–µ–Ω—è!','–º–µ–Ω—è.','–º–µ–Ω—è <3','–º–µ–Ω—è)','–º–µ–Ω—è:)','–º–µ–Ω—èü•∫','–º–µ–Ω—èüíñ',
        '–º–µ–Ω—è –ª—é–±–ª—é','–º–µ–Ω—è –ª—é–±–∏—à—å','—è','—è –ª—é–±–ª—é','—è –ª—é–±–ª—é —Ç–µ–±—è','—è —Ç–µ–±—è –ª—é–±–ª—é',
        '–ª—é–±–ª—é –º–µ–Ω—è','–ª—é–±–∏—à—å –º–µ–Ω—è','–ª—é–±–∏—à—å','–ª—é–±–ª—é','–ª—é–±–æ–≤—å –º–æ—è','–º–æ–π','–º–æ—è',
        '–º–æ–π —Å–∞–º—ã–π –ª—É—á—à–∏–π','–º–æ–π –ª—É—á—à–∏–π','–º–æ–π –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π','—Ç—ã –º–µ–Ω—è –ª—é–±–∏—à—å','—Ç—ã –ª—é–±–∏—à—å –º–µ–Ω—è','–º–µ–Ω—è —Ç—ã –ª—é–±–∏—à—å', '–≤–∏–∫—É', '–≤–∏–∫—Ç–æ—Ä–∏—é', '–≤–∏–∫—Ç–æ—Ä–∏—é –æ–ª–µ–≥–æ–≤–Ω—É', '—á–µ–±–æ—Ç–∞—Ä—ë–≤—É', '—á–µ–±–æ—Ç–∞—Ä—ë–≤—É –≤–∏–∫—Ç–æ—Ä–∏—é', '—á–µ–±–æ—Ç–∞—Ä—ë–≤—É –≤–∏–∫—Ç–æ—Ä–∏—é –æ–ª–µ–≥–æ–≤–Ω—É'
      ].map(a=>a.toLowerCase());

      if(correctAnswers.includes(userAnswer)){
        letter.classList.add('show-letter');

        return;
      }
      const replies = {
        '–º–∞–º—É':'–º–∞–º–æ —Å–≤—è—Ç–æ–µ',
        '':'–ø—É—Å—Ç–æ—Ç–∞... –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ',
        '–ø—Ä–∏–≤–µ—Ç':'—Ö–∞–π',
        '–∫–æ—à–∫—É':'–∫–æ—Ç–∏–∫ —ç—Ç–æ –∫—Ä—É—Ç–æ, –Ω–æ —è –≤—Å—ë –∂ –Ω–µ —ç—Ç–æ –∏–º–µ–ª –≤ –≤–∏–¥—É',
        '—Ç—Ä–∏–∫—Å–∏':'–∫–æ—Ç–∏–∫ —ç—Ç–æ –∫—Ä—É—Ç–æ, –Ω–æ —è –≤—Å—ë –∂ –Ω–µ —ç—Ç–æ –∏–º–µ–ª –≤ –≤–∏–¥—É',
        '–∫–æ—Ç–∏–∫–∞':'–∫–æ—Ç–∏–∫ —ç—Ç–æ –∫—Ä—É—Ç–æ, –Ω–æ —è –≤—Å—ë –∂ –Ω–µ —ç—Ç–æ –∏–º–µ–ª –≤ –≤–∏–¥—É',
        '–∫–∏—Å–∫—É':'üòè',
        '–Ω–∏–∫–æ–≥–æ':'–ø–µ—á–∞–ª—å–Ω–æ –∑–≤—É—á–∏—Ç...',
        '–æ–∫–∞–∫':'–æ—Ç–∞–∫',
        '–¥–∞–Ω—É?':'–Ω—É –¥–∞',
        '–º–µ–Ω—è?':'—Ç–∞–∫, –∞ —Ç–µ–ø–µ—Ä—å –±–µ–∑ –≤–æ–ø—Ä–æ—Å–æ–≤ —Ç—É—Ç.',
        '–ø–∞–ø—É':'–ø–∞–ø–æ —Ä—ã–±–∞–ª–∫–∞ –∫–ª–∞—Å—Å',
        '–±—Ä–∞—Ç–∞':'–±—Ä–∞—Ç ‚Äî —ç—Ç–æ –∫—Ä–µ–ø–∫–æ, –Ω–æ –Ω–µ —Ç–æ',
        '–¥—Ä—É–≥–∞':'–¥—Ä—É–∂–±–∞ ‚Äî —ç—Ç–æ —Å–≤—è—Ç–æ, –Ω–æ —è –Ω–µ –æ –Ω–µ–π',
        '—Å–æ–±–∞–∫—É':'—Å–æ–±–∞—á–∫–∞ ‚Äî –¥—Ä—É–≥ —á–µ–ª–æ–≤–µ–∫–∞, –Ω–æ –Ω–µ –º–æ–π –æ—Ç–≤–µ—Ç',
        '–ª—é–±–∏–º—É—é':'–∞–≥–∞, —Ä–æ–º–∞–Ω—Ç–∏–∫–∞ —á—É–≤—Å—Ç–≤—É–µ—Ç—Å—è, –Ω–æ –Ω–µ —Å—é–¥–∞',
        '–∂–µ–Ω—É':'—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ç–µ–±—è –≤ –±—É–¥—É—â–µ–º)',
        '–º—É–∂–∞':'bruh',
        '–ø–æ–¥—Ä—É–≥—É':'–ø–æ–¥—Ä—É–≥–∞ ‚Äî —Ö–æ—Ä–æ—à–æ, –Ω–æ —è –Ω–µ –æ–± —ç—Ç–æ–º',
        '—Ä–æ–¥–∏—Ç–µ–ª–µ–π':'—Å–µ–º—å—è ‚Äî —ç—Ç–æ –≤–∞–∂–Ω–æ, –Ω–æ –Ω–µ —Å—é–¥–∞',
        '–¥–µ—Ç–µ–π':'–¥–µ—Ç–∏ ‚Äî —ç—Ç–æ –∫—Ä—É—Ç–æ, –Ω–æ –Ω–µ –æ—Ç–≤–µ—Ç',
        '—Å–µ—Å—Ç—Ä—É':'—Å–µ—Å—Ç—Ä–∞ ‚Äî –±–ª–∏–∑–∫–æ, –Ω–æ –Ω–µ —Ç–æ',
        '–ø–∞—Ä–Ω—è':'–ø–∞—Ä–µ–Ω—å ‚Äî –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç, –Ω–æ –Ω–µ—Ç',
        '–ª—é–±–∏–º–æ–≥–æ':'–ª—é–±–∏–º—ã–π ‚Äî –ø–æ—á—Ç–∏, –Ω–æ –Ω–µ—Ç',
        '—Å–µ–±—è':'—è –∫–æ–Ω–µ—á–Ω —ç–≥–æ–∏—Å—Ç, –Ω–æ –Ω–µ —ç—Ç–æ',
        '–ø–µ–ª—å–º–µ–Ω–∏': '–ø–µ–ª—å–º–µ—à–∫–∏ —Ö–æ—Ä–æ—à–∏... –Ω–æ –Ω–µ—Ç ü•ü',
        '—á–∞–π': '–≥–æ—Ä—è—á–æ. –Ω–æ –º–∏–º–æ ‚òï',
        '—à—Ä–µ–∫': '–õ—é—é—é—é—é–±–æ—Ñ—Ñ –≤ –±–æ–ª–æ—Ç–µ üíö',
        '–∫–æ—Ç–ª–µ—Ç—ã': '–∞ –∫ –Ω–∏–º –ø—é—Ä–µ –≥–¥–µ?',
        '—Ä–µ–ø—á–∞—Ç—ã–π –ª—É–∫': '—Ç—ã –ø–ª–∞—á–µ—à—å, –∫–æ–≥–¥–∞ –µ–≥–æ —Ä–µ–∂–µ—à—å, –Ω–æ —è –Ω–µ –æ –Ω—ë–º üò¢',
        '–ø—É—Ç–∏–Ω': '–ø–æ–ª–∏—Ç–∏–∫–∞ —Ç—É—Ç –Ω–∏ –ø—Ä–∏ —á—ë–º üòÇ',
        '–∞–ª–∏—Å–∞': '–æ–π, –Ω—É –æ–Ω–∞ —É–º–Ω–∞—è –∫–æ–Ω–µ—á–Ω–æ, –Ω–æ –Ω–µ —è',
        '—á–∞—Ç–≥–ø—Ç': '–±–ª–∏–∑–∫–æ, –Ω–æ –≤—Å—ë-—Ç–∞–∫–∏ –Ω–µ —è üòé',
        '—Å–∞–º–∞': '–≤–æ—Ç —ç—Ç–æ –ø–æ–≤–æ—Ä–æ—Ç',
        '–∞–π—Ñ–æ–Ω': '–≤ –Ω—ë–º –ª—é–±–æ–≤—å –µ—Å—Ç—å, –Ω–æ –Ω–µ —Ç–∞, —á—Ç–æ —è –∏—Å–∫–∞–ª',
        '—Ö–∑': '–Ω—É –¥–∞–≤–∞–π –ø–æ–ø—Ä–æ–±—É–µ–º –µ—â—ë —Ä–∞–∑',
        '–ª–æ–ª': '–Ω–µ –ª–æ–ª–∫–∞–π ‚Äî —á—É–≤—Å—Ç–≤—É–π üíò',
        '–∂–æ–ø–∞': '–Ω—É —ç—Ç–æ —É–∂–µ —Ö–∞–º—Å—Ç–≤–æ (–∏–ª–∏ –∞–Ω–∞—Ç–æ–º–∏—è?) üôÑ',
        '–∞—Ä–±—É–∑': '—Å–ª–∞–¥–∫–æ, –Ω–æ –Ω–µ —Ç—É–¥–∞ üçâ',
        '–∫–∞—Ä—Ç–æ—à–∫–∞': '–ø—é—Ä–µ—à–∫–∞ —Å —Å–æ—Å–∏—Å–∫–æ–π forever, –Ω–æ –≤—Å—ë –∂–µ...',
        '–ª—É–Ω–∞': '–ø–æ—ç—Ç–∏—á–Ω–æ, –Ω–æ –Ω–µ –æ—Ç–≤–µ—Ç üåô',
        '—è –Ω–µ –∑–Ω–∞—é': '–ö–ª—è–Ω–∏—Å—å'  
      };
      
      const reply = replies[userAnswer] || '–≤–æ—Ç —ç—Ç–æ—Ç –æ—Ç–≤–µ—Ç —è –∏ –Ω–µ –ø—Ä–æ–¥—É–º–∞–ª, –ø—Ä–∏–¥—É–º–∞–π —á—Ç–æ-—Ç–æ –µ—â—ë (‚óè\'‚ó°\'‚óè)';
      typeText(reply);
    }

  

</script>

</body>
</html>
